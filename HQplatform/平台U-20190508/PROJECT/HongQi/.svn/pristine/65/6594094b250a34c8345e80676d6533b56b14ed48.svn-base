<?xml version="1.0" encoding="utf-8" ?>
<Function id="str2hex" description="将16进制字符串转换成16进制编码">
<Inputs>
<Variable id="str" type="8" data=""/>
</Inputs>
<Outputs>
<Variable id="ret" type="8" data="" description="16进制编码格式，例如：&quot;\x05\x00\x01\xac&quot;"/>
</Outputs>
<Script>--判断输入类型		
if (type(str)~="string") then	    
return nil,"str2hex invalid input type";	
end	
--滤掉分隔符	
str=str:gsub("[%s%p]",""):upper();	
--检查内容是否合法	
if(str:find("[^0-9A-Fa-f]")~=nil) then	    
return nil,"str2hex invalid input content";	
end	
--检查字符串长度	
if(str:len()%2~=0) then	    
return nil,"str2hex invalid input lenth";	
end	
--拼接字符串	
local index=1;	
local ret="";	
for index=1,str:len(),2 do	    
ret=ret..string.char(tonumber(str:sub(index,index+1),16));	
end		</Script></Function>

