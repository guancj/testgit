<?xml version="1.0" encoding="utf-8" ?>
<Function id="VW2000_Actuator_Selectively_Start" description="VW2000_Stellglied_selektiv_Start">
<Inputs>
<Variable id="SollStgNummer" type="3" data="0"/>
<Variable id="ECU_Handle" type="8" data="vciHandle" description="ECU Handle"/>
</Inputs>
<Outputs>
<Variable id="RecvTel" type="8" data="" description="回应值"/>
</Outputs>
<Script>--[[*****************************************************************************
this is used to  start actutor selective
input parameter:SollStgNummer;ECU_Handle
output parameter:RecvTel;

01/14/2016     created by viforce
11/03/2016     changed by viforce
******************************************************************************--]]
RecvTel = "";
if (ECU_Handle  == nil)  then 
	engine.LastError = 1;
	engine.StatValue = "ECU Handle nil ";
	return RecvTel
end


local Byte_1 = math.floor(SollStgNummer/0x100);
local Byte_2 = SollStgNummer - Byte_1*0x100;

#COMMEX ECU_Handle -1 0x31 0xb8 0x01 0x07 Byte_1 Byte_2

if(0 ~= engine.LastError) then return  RecvTel ;end;

#COMMEX ECU_Handle -1 0x31 0xba 0x01 0x07

if(0 ~= engine.LastError) then return RecvTel;end;


if ((@4 == 0x03) or (@4 == 0x05) or (@4 == 0x09))  then

#COMMEX ECU_Handle -1 0x31 0xb9 0x01 0x07

if(0 ~= engine.LastError) then return RecvTel;end;

end

#COMMEX ECU_Handle -1 0x31 0xba 0x01 0x07
if(0 ~= engine.LastError) then return RecvTel;end;
RecvTel = @0-;</Script></Function>

